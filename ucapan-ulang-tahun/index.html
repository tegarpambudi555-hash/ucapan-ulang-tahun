<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ucapan Ulang Tahun Spesial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .container {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 90%;
            position: relative;
            animation: fadeIn 1.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .image-container {
            margin-bottom: 25px;
            position: relative;
        }

        /* Perbaikan path gambar karakter */
        .character {
            width: 180px;
            height: 180px;
            margin: 0 auto;
            background: url('./images/character.png') center/cover no-repeat;
            border-radius: 50%;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            animation: float 3s ease-in-out infinite;
            /* Fallback jika gambar tidak ditemukan */
            background-color: #f8d7da;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4rem;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .cake {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 60px;
            background: linear-gradient(to bottom, #f8d7da, #f5c6cb);
            border-radius: 10px 10px 0 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .cake::before {
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 15px;
            background: #ff6b6b;
            border-radius: 50%;
        }

        .candle {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 20px;
            background: #ffd166;
            border-radius: 2px;
        }

        .flame {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 15px;
            background: radial-gradient(circle, #ff9a76, #ff6b6b);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flicker 1s ease-in-out infinite alternate;
        }

        @keyframes flicker {
            0% { transform: translateX(-50%) scale(1); opacity: 1; }
            100% { transform: translateX(-50%) scale(1.1); opacity: 0.8; }
        }

        h1 {
            color: #ff6b6b;
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .decoration {
            color: #ff6b6b;
            font-size: 1.8rem;
            margin: 10px 0;
            letter-spacing: 5px;
        }

        .surprise-text {
            color: #6a0572;
            font-size: 1.2rem;
            margin: 20px 0;
            line-height: 1.5;
        }

        .envelope-container {
            margin: 30px 0;
            position: relative;
            display: flex;
            justify-content: center;
        }

        .envelope {
            width: 250px;
            height: 180px;
            background: #f8d7da;
            border-radius: 10px;
            position: relative;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            animation: float 3s ease-in-out infinite;
            overflow: hidden;
        }

        .envelope::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: #f5c6cb;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
        }

        .heart-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: #ff6b6b;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            z-index: 2;
            animation: pulse 2s ease-in-out infinite;
        }

        .heart-seal::before {
            content: '';
            position: absolute;
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
        }

        .heart-seal::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background: #ff6b6b;
            border-radius: 50%;
        }

        .knock-text {
            color: #6a0572;
            font-size: 1.8rem;
            margin: 25px 0;
            line-height: 1.5;
            font-weight: bold;
            animation: bounce 1.5s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .face {
            font-size: 1.5rem;
            color: #ff6b6b;
            margin-top: 10px;
            display: inline-block;
            animation: wiggle 2s ease-in-out infinite;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        .message-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .confetti-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="10" cy="10" r="3" fill="%23ff6b6b"/><circle cx="30" cy="30" r="3" fill="%23ffd166"/><circle cx="50" cy="50" r="3" fill="%2306d6a0"/><circle cx="70" cy="70" r="3" fill="%23118ab2"/><circle cx="90" cy="90" r="3" fill="%23ef476f"/><rect x="20" y="60" width="5" height="5" fill="%23ff6b6b" transform="rotate(45 22.5 62.5)"/><rect x="40" y="20" width="5" height="5" fill="%23ffd166" transform="rotate(45 42.5 22.5)"/><rect x="60" y="80" width="5" height="5" fill="%2306d6a0" transform="rotate(45 62.5 82.5)"/><rect x="80" y="40" width="5" height="5" fill="%23118ab2" transform="rotate(45 82.5 42.5)"/></svg>');
            opacity: 0.3;
            z-index: 0;
        }

        .message-content {
            position: relative;
            z-index: 1;
            width: 100%;
            max-width: 500px;
            overflow: hidden;
            height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .typing-title {
            color: #ff6b6b;
            font-size: 2.2rem;
            margin-bottom: 25px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            min-height: 50px;
            text-align: center;
            width: 100%;
        }

        .message-box {
            color: #6a0572;
            font-size: 1.4rem;
            line-height: 2.2;
            text-align: center;
            width: 100%;
            min-height: 200px;
            margin-bottom: 20px;
        }

        .message-line {
            margin-bottom: 15px;
            display: block;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 1.2em;
            background-color: #ff6b6b;
            animation: blink 1s infinite;
            vertical-align: text-bottom;
        }

        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }

        .decoration-heart {
            color: #ff6b6b;
            font-size: 1.8rem;
            margin: 20px 0;
            animation: pulse 2s ease-in-out infinite;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .decoration-heart.visible {
            opacity: 1;
        }

        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
        }

        .restart-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .restart-button.visible {
            opacity: 1;
        }

        .restart-button:hover {
            background: #e63946;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
        }

        .photo-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            height: 550px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .photo-frame {
            position: relative;
            width: 300px;
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            border: 10px solid #fff;
            box-shadow: 0 0 0 1px #ddd, 0 5px 15px rgba(0, 0, 0, 0.1);
            animation: photoFloat 4s ease-in-out infinite;
        }

        @keyframes photoFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(1deg); }
        }

        /* Perbaikan path gambar foto */
        .birthday-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: url('./images/birthday-person.jpg') center/cover no-repeat;
            /* Fallback jika gambar tidak ditemukan */
            background-color: #f8d7da;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
        }

        .photo-caption {
            color: #6a0572;
            font-size: 1.8rem;
            margin-bottom: 30px;
            text-align: center;
            max-width: 80%;
            animation: pulse 2s ease-in-out infinite;
        }

        .photo-decoration {
            position: absolute;
            font-size: 2rem;
            color: #ff6b6b;
            animation: rotate 10s linear infinite;
        }

        .photo-decoration.top-left {
            top: 20px;
            left: 20px;
        }

        .photo-decoration.top-right {
            top: 20px;
            right: 20px;
            animation-direction: reverse;
        }

        .photo-decoration.bottom-left {
            bottom: 20px;
            left: 20px;
        }

        .photo-decoration.bottom-right {
            bottom: 20px;
            right: 20px;
            animation-direction: reverse;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .tap-button, .open-button, .photo-button, .back-button {
            background: #4d96ff;
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 15px rgba(77, 150, 255, 0.3);
            transition: all 0.3s ease;
            margin-top: 20px;
            display: inline-flex;
            align-items: center;
        }

        .tap-button:hover, .open-button:hover, .photo-button:hover, .back-button:hover {
            background: #3a7bd5;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(77, 150, 255, 0.4);
        }

        .tap-button:active, .open-button:active, .photo-button:active, .back-button:active {
            transform: translateY(1px);
        }

        .heart {
            margin-left: 10px;
            animation: heartbeat 1.2s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            20% { transform: scale(1.2); }
            40% { transform: scale(1); }
            60% { transform: scale(1.2); }
            80% { transform: scale(1); }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff6b6b;
            opacity: 0;
            animation: confetti-fall 3s ease-out forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .hidden {
            display: none;
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 650px;
                padding: 40px;
            }
            
            .message-container {
                height: 550px;
                padding: 50px;
            }
            
            .message-content {
                height: 400px;
                max-width: 550px;
            }
            
            .typing-title {
                font-size: 2.5rem;
                margin-bottom: 30px;
            }
            
            .message-box {
                font-size: 1.6rem;
                line-height: 2.5;
            }
            
            .photo-container {
                height: 600px;
                padding: 50px;
            }
            
            .photo-frame {
                width: 350px;
                height: 350px;
            }
            
            .photo-caption {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Halaman 1: Kue Ulang Tahun -->
    <div id="firstPage" class="container">
        <div class="image-container">
            <div class="character">🎂</div>
            <div class="cake">
                <div class="candle">
                    <div class="flame"></div>
                </div>
            </div>
        </div>
        
        <h1>Happy Birthday sayangkuu</h1>
        <div class="decoration">~ ~ ~ ~❤️</div>
        <p class="surprise-text">your next surprise is just a click away ✨</p>
        
        <button class="tap-button" id="tapButton">
            tap <span class="heart">❤️</span>
        </button>
    </div>

    <!-- Halaman 2: Amplop -->
    <div id="secondPage" class="container hidden">
        <div class="envelope-container">
            <div class="envelope">
                <div class="heart-seal"></div>
            </div>
        </div>
        
        <h2 class="knock-text">knock knock .. open me up!</h2>
        <div class="face">( n˚ ʃ ˚n )</div>
        
        <button class="open-button" id="openButton">
            open it <span class="heart">❤️</span>
        </button>
    </div>

    <!-- Halaman 3: Pesan -->
    <div id="thirdPage" class="container hidden">
        <div class="message-container">
            <div class="confetti-bg"></div>
            <div class="message-content">
                <div class="typing-title" id="typingTitle"></div>
                <div class="message-box" id="messageBox"></div>
                <div class="decoration-heart" id="decorationHeart">❤️ ❤️ ❤️</div>
            </div>
            <div class="button-container">
                <button class="restart-button" id="restartButton">Lihat Ulang</button>
                <button class="photo-button" id="photoButton">Lihat Foto <span class="heart">❤️</span></button>
            </div>
        </div>
    </div>

    <!-- Halaman 4: Foto -->
    <div id="fourthPage" class="container hidden">
        <div class="photo-container">
            <div class="photo-decoration top-left">🎂</div>
            <div class="photo-decoration top-right">🎈</div>
            <div class="photo-decoration bottom-left">🎁</div>
            <div class="photo-decoration bottom-right">✨</div>
            
            <div class="photo-frame">
                <div class="birthday-photo">🎉</div>
            </div>
            
            <div class="photo-caption">Selamat ulang tahun untuk orang terkasihku! 💖</div>
            
            <button class="back-button" id="backButton">
                Kembali ke Awal <span class="heart">❤️</span>
            </button>
        </div>
    </div>

    <script>
        // Get elements
        const firstPage = document.getElementById('firstPage');
        const secondPage = document.getElementById('secondPage');
        const thirdPage = document.getElementById('thirdPage');
        const fourthPage = document.getElementById('fourthPage');
        const tapButton = document.getElementById('tapButton');
        const openButton = document.getElementById('openButton');
        const restartButton = document.getElementById('restartButton');
        const photoButton = document.getElementById('photoButton');
        const backButton = document.getElementById('backButton');
        
        // Typing elements
        const typingTitle = document.getElementById('typingTitle');
        const messageBox = document.getElementById('messageBox');
        const decorationHeart = document.getElementById('decorationHeart');

        // Function to create confetti
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            
            // Random properties
            const colors = ['#ff6b6b', '#ffd166', '#06d6a0', '#118ab2', '#ef476f'];
            const size = Math.random() * 10 + 5;
            const left = Math.random() * 100;
            const delay = Math.random() * 1.5;
            
            confetti.style.width = `${size}px`;
            confetti.style.height = `${size}px`;
            confetti.style.left = `${left}%`;
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = `${delay}s`;
            
            document.body.appendChild(confetti);
            
            // Remove confetti after animation completes
            setTimeout(() => {
                confetti.remove();
            }, 3000);
        }

        // Typing effect function
        function typeText(element, text, speed = 100) {
            return new Promise(resolve => {
                element.innerHTML = '';
                let i = 0;
                
                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        // Add cursor at the end
                        element.innerHTML += '<span class="cursor"></span>';
                        setTimeout(() => {
                            // Remove cursor after a short delay
                            const cursor = element.querySelector('.cursor');
                            if (cursor) cursor.remove();
                            resolve();
                        }, 500);
                    }
                }
                
                type();
            });
        }

        // Function to type multiple lines in one element
        async function typeMultipleLines(element, lines, speed = 100) {
            element.innerHTML = '';
            
            for (let i = 0; i < lines.length; i++) {
                // Create a div for each line
                const lineDiv = document.createElement('div');
                lineDiv.className = 'message-line';
                element.appendChild(lineDiv);
                
                // Type the text in this line
                await typeTextInElement(lineDiv, lines[i], speed);
                
                // Add a small delay between lines (except for the last line)
                if (i < lines.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
            }
        }

        // Helper function to type text in a specific element
        function typeTextInElement(element, text, speed = 100) {
            return new Promise(resolve => {
                let i = 0;
                
                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        // Add cursor at the end
                        element.innerHTML += '<span class="cursor"></span>';
                        setTimeout(() => {
                            // Remove cursor after a short delay
                            const cursor = element.querySelector('.cursor');
                            if (cursor) cursor.remove();
                            resolve();
                        }, 500);
                    }
                }
                
                type();
            });
        }

        // Function to start typing animation
        async function startTypingAnimation() {
            // Reset all elements
            typingTitle.innerHTML = '';
            messageBox.innerHTML = '';
            decorationHeart.classList.remove('visible');
            restartButton.classList.remove('visible');
            photoButton.classList.remove('visible');
            
            // Define the message lines
            const messageLines = [
                "happy birthday to my sweetest soul!",
                "you make every moment brighter just by being you.",
                "i'm so grateful for you and all the joy you bring into my life.",
                "may all your dreams come true and may this year be filled with love, laughter, and endless happiness."
            ];
            
            // Start typing animation
            await typeText(typingTitle, "My Precious, soulatte <3 .!", 80);
            await typeMultipleLines(messageBox, messageLines, 70);
            
            // Show decoration and buttons after typing is complete
            decorationHeart.classList.add('visible');
            restartButton.classList.add('visible');
            photoButton.classList.add('visible');
        }

        // Function to check and fix image URLs
        function fixImageUrls() {
            // Get the current URL
            const currentUrl = window.location.href;
            const baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/') + 1);
            
            // Check if character image loads
            const characterImg = new Image();
            characterImg.onload = function() {
                // Image loaded successfully
                document.querySelector('.character').style.backgroundImage = "url('./images/character.png')";
                document.querySelector('.character').innerHTML = '';
            };
            characterImg.onerror = function() {
                // Image failed to load, try GitHub raw URL
                const githubUsername = 'tegarpambudi555-hash'; // Ganti dengan username GitHub Anda
                const githubRepo = 'ucapan-ulang-tahun'; // Ganti dengan nama repository Anda
                document.querySelector('.character').style.backgroundImage = `url('https://raw.githubusercontent.com/${githubUsername}/${githubRepo}/main/images/character.png')`;
                document.querySelector('.character').innerHTML = '';
            };
            characterImg.src = './images/character.png';
            
            // Check if birthday photo loads
            const birthdayImg = new Image();
            birthdayImg.onload = function() {
                // Image loaded successfully
                document.querySelector('.birthday-photo').style.backgroundImage = "url('./images/birthday-person.jpg')";
                document.querySelector('.birthday-photo').innerHTML = '';
            };
            birthdayImg.onerror = function() {
                // Image failed to load, try GitHub raw URL
                const githubUsername = 'tegarpambudi555-hash'; // Ganti dengan username GitHub Anda
                const githubRepo = 'ucapan-ulang-tahun'; // Ganti dengan nama repository Anda
                document.querySelector('.birthday-photo').style.backgroundImage = `url('https://raw.githubusercontent.com/${githubUsername}/${githubRepo}/main/images/birthday-person.jpg')`;
                document.querySelector('.birthday-photo').innerHTML = '';
            };
            birthdayImg.src = './images/birthday-person.jpg';
        }

        // Call fixImageUrls when page loads
        window.addEventListener('load', fixImageUrls);

        // Event listener for tap button
        tapButton.addEventListener('click', function() {
            // Create confetti effect
            for (let i = 0; i < 50; i++) {
                createConfetti();
            }
            
            // Switch to second page after delay
            setTimeout(() => {
                firstPage.classList.add('hidden');
                secondPage.classList.remove('hidden');
            }, 1500);
        });

        // Event listener for open button
        openButton.addEventListener('click', function() {
            // Create confetti effect
            for (let i = 0; i < 50; i++) {
                createConfetti();
            }
            
            // Switch to third page after delay
            setTimeout(() => {
                secondPage.classList.add('hidden');
                thirdPage.classList.remove('hidden');
                
                // Start typing animation after page transition
                setTimeout(() => {
                    startTypingAnimation();
                }, 500);
            }, 1500);
        });

        // Event listener for restart button
        restartButton.addEventListener('click', function() {
            // Create confetti effect
            for (let i = 0; i < 30; i++) {
                createConfetti();
            }
            
            // Switch back to first page after delay
            setTimeout(() => {
                thirdPage.classList.add('hidden');
                firstPage.classList.remove('hidden');
            }, 1000);
        });

        // Event listener for photo button
        photoButton.addEventListener('click', function() {
            // Create confetti effect
            for (let i = 0; i < 50; i++) {
                createConfetti();
            }
            
            // Switch to fourth page after delay
            setTimeout(() => {
                thirdPage.classList.add('hidden');
                fourthPage.classList.remove('hidden');
            }, 1500);
        });

        // Event listener for back button
        backButton.addEventListener('click', function() {
            // Create confetti effect
            for (let i = 0; i < 30; i++) {
                createConfetti();
            }
            
            // Switch back to first page after delay
            setTimeout(() => {
                fourthPage.classList.add('hidden');
                firstPage.classList.remove('hidden');
            }, 1000);
        });
    </script>
</body>
</html>            
